---
interface Props {
  url: string;
  title: string;
  description?: string;
}

const { url, title, description } = Astro.props;

function getDomain(url: string): string {
  try {
    return new URL(url).hostname;
  } catch {
    return url;
  }
}
---

<a
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="block p-4 rounded-xl border bg-white dark:bg-slate-800 shadow-sm hover:shadow-md transition-shadow no-underline group"
>
  <div class="flex flex-col gap-2">
    <h3 class="font-semibold text-foreground group-hover:text-blue-500 transition-colors m-0">
      {title}
    </h3>
    {description && (
      <p class="text-sm text-muted-foreground m-0">{description}</p>
    )}
    <span class="text-xs text-muted-foreground flex items-center gap-1">
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
      </svg>
      {getDomain(url)}
    </span>
  </div>
</a>

---
---

<div class="relative">
  <button
    id="search-button"
    class="flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground bg-muted rounded-lg hover:bg-accent transition-colors"
    aria-label="Search"
  >
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
    </svg>
    <span class="hidden sm:inline">검색</span>
    <kbd class="hidden sm:inline-flex items-center gap-1 px-1.5 py-0.5 text-xs bg-background rounded border">
      <span class="text-xs">⌘</span>K
    </kbd>
  </button>
</div>

<script is:inline>
  function initSearchButton() {
    const btn = document.getElementById('search-button');
    if (btn) {
      btn.onclick = () => {
        const cmdPalette = document.getElementById('command-palette');
        const cmdInput = document.getElementById('cmd-input');
        if (cmdPalette) {
          cmdPalette.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
          if (cmdInput) cmdInput.focus();
        }
      };
    }
  }
  initSearchButton();
  document.addEventListener('astro:after-swap', initSearchButton);
</script>
